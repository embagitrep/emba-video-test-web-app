// var chatSidebarListWrapper=$(".chat-sidebar-list-wrapper"),chatOverlay=$(".chat-overlay"),chatContainer=$(".chat-container"),chatSidebarProfileToggle=$(".chat-sidebar-profile-toggle"),chatProfileToggle=$(".chat-profile-toggle"),chatSidebarClose=$(".chat-sidebar-close"),chatProfile=$(".chat-profile"),chatUserProfile=$(".chat-user-profile"),chatProfileClose=$(".chat-profile-close"),chatSidebar=$(".chat-sidebar"),chatArea=$(".chat-area"),chatStart=$(".chat-start"),chatSidebarToggle=$(".chat-sidebar-toggle"),chatMessageSend=$(".chat-message-send");function chatMessagesSend(a){var e=chatMessageSend.val();if(""!=e){var t='<div class="chat-message"><p>'+e+"</p><div class=chat-time>3:35 AM</div></div>";$(".chat-wrapper .chat:last-child .chat-body").append(t),chatMessageSend.val(""),chatContainer.scrollTop($(".chat-container > .chat-content").height())}}$(document).ready(function(){"use strict";if(0<chatSidebarListWrapper.length)new PerfectScrollbar(".chat-sidebar-list-wrapper");if(0<$(".chat-user-profile-scroll").length)new PerfectScrollbar(".chat-user-profile-scroll");if(0<chatContainer.length)new PerfectScrollbar(".chat-container");if(0<$(".chat-profile-content").length)new PerfectScrollbar(".chat-profile-content");chatSidebarProfileToggle.on("click",function(){chatUserProfile.addClass("show"),chatOverlay.addClass("show")}),chatProfileToggle.on("click",function(){chatProfile.addClass("show"),chatOverlay.addClass("show")}),chatProfileClose.on("click",function(){chatUserProfile.removeClass("show"),chatProfile.removeClass("show"),chatSidebar.hasClass("show")||chatOverlay.removeClass("show")}),chatSidebarClose.on("click",function(){chatSidebar.removeClass("show"),chatOverlay.removeClass("show")}),chatOverlay.on("click",function(){chatSidebar.removeClass("show"),chatOverlay.removeClass("show"),chatUserProfile.removeClass("show"),chatProfile.removeClass("show")}),$(".chat-sidebar-list-wrapper ul li").on("click",function(){$(".chat-sidebar-list-wrapper ul li").hasClass("active")&&$(".chat-sidebar-list-wrapper ul li").removeClass("active"),$(this).addClass("active"),$(".chat-sidebar-list-wrapper ul li").hasClass("active")?(chatStart.addClass("d-none"),chatArea.removeClass("d-none")):(chatStart.removeClass("d-none"),chatArea.addClass("d-none"))}),$(".chat-icon-favorite i").on("click",function(a){$(this).parent(".chat-icon-favorite").toggleClass("warning"),$(this).toggleClass("bxs-star bx-star"),a.stopPropagation()}),$(window).width()<992&&chatSidebarToggle.on("click",function(){chatSidebar.addClass("show"),chatOverlay.addClass("show")}),$(".chat-sidebar-list li").on("click",function(){chatContainer.animate({scrollTop:chatContainer[0].scrollHeight},400)}),$(".menu-toggle").click(function(){chatSidebar.removeClass("show"),chatOverlay.removeClass("show"),chatUserProfile.removeClass("show"),chatProfile.removeClass("show")}),$("#chat-search").on("keyup",function(){var a=$(this).val().toLowerCase();""!=a?$(".chat-sidebar-list-wrapper .chat-sidebar-list li").filter(function(){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(a))}):$(".chat-sidebar-list-wrapper .chat-sidebar-list li").show()}),$(window).on("resize",function(){992<$(window).width()&&chatOverlay.hasClass("show")&&chatOverlay.removeClass("show"),$(window).width()<992&&chatSidebarToggle.on("click",function(){chatSidebar.addClass("show"),chatOverlay.addClass("show")}),992<$(window).width()&&chatSidebarToggle.on("click",function(){chatOverlay.removeClass("show")})})});

"use strict";
document.addEventListener("DOMContentLoaded", function () {
    {
        const o = document.querySelector(".app-chat-contacts .sidebar-body"),
            n = [].slice.call(document.querySelectorAll(".chat-contact-list-item:not(.chat-contact-list-item-title)")),
            i = document.querySelector(".chat-history-body"),
            u = document.querySelector(".app-chat-sidebar-left .sidebar-body"),
            d = document.querySelector(".app-chat-sidebar-right .sidebar-body"),
            h = [].slice.call(document.querySelectorAll(".form-check-input[name='chat-user-status']")),
            m = $(".chat-sidebar-left-user-about"), p = document.querySelector(".form-send-message"),
            v = document.querySelector(".message-input"), b = document.querySelector(".chat-search-input"),
            f = $(".speech-to-text"),
            y = {active: "avatar-online", offline: "avatar-offline", away: "avatar-away", busy: "avatar-busy"};

        // function a() {
        //     i.scrollTo(0, i.scrollHeight)
        // }

        function l(e, a, c, t) {
            e.forEach(e => {
                var t = e.textContent.toLowerCase();
                !c || -1 < t.indexOf(c) ? (e.classList.add("d-flex"), e.classList.remove("d-none"), a++) : e.classList.add("d-none")
            }), 0 == a ? t.classList.remove("d-none") : t.classList.add("d-none")
        }

        o && new PerfectScrollbar(o, {
            wheelPropagation: !1,
            suppressScrollX: !0
        }), i && new PerfectScrollbar(i, {
            wheelPropagation: !1,
            suppressScrollX: !0
        }), u && new PerfectScrollbar(u, {
            wheelPropagation: !1,
            suppressScrollX: !0
        }), d && new PerfectScrollbar(d, {
            wheelPropagation: !1,
            suppressScrollX: !0
        }),
            // a(),
        m.length && m.maxlength({
            alwaysShow: !0,
            warningClass: "label label-success bg-success text-white",
            limitReachedClass: "label label-danger",
            separator: "/",
            validate: !0,
            threshold: 120
        }), h.forEach(e => {
            e.addEventListener("click", e => {
                var t = document.querySelector(".chat-sidebar-left-user .avatar"), e = e.currentTarget.value,
                    t = (t.removeAttribute("class"), Helpers._addClass("avatar avatar-xl " + y[e], t), document.querySelector(".app-chat-contacts .avatar"));
                t.removeAttribute("class"), Helpers._addClass("flex-shrink-0 avatar " + y[e] + " me-3", t)
            })
        }), n.forEach(e => {
            e.addEventListener("click", e => {
                n.forEach(e => {
                    e.classList.remove("active")
                }), e.currentTarget.classList.add("active")
            })
        }), b && b.addEventListener("keyup", e => {
            var e = e.currentTarget.value.toLowerCase(), t = document.querySelector(".chat-list-item-0"),
                a = document.querySelector(".contact-list-item-0"),
                c = [].slice.call(document.querySelectorAll("#chat-list li:not(.chat-contact-list-item-title)")),
                r = [].slice.call(document.querySelectorAll("#contact-list li:not(.chat-contact-list-item-title)"));
            l(c, 0, e, t), l(r, 0, e, a)
        })
        //     ,
        //     p.addEventListener("submit", e => {
        //     e.preventDefault(), v.value && ((e = document.createElement("div")).className = "chat-message-text mt-2", e.innerHTML = '<p class="mb-0 text-break">' + v.value + "</p>", document.querySelector("li:last-child .chat-message-wrapper").appendChild(e), v.value = "", a())
        // })
        ;
        let e = document.querySelector(".chat-history-header [data-target='#app-chat-contacts']"),
            t = document.querySelector(".app-chat-sidebar-left .close-sidebar");
        var c, r, s;
        // e.addEventListener("click", e => {
        //     t.removeAttribute("data-overlay")
        // }),
        f.length && null != (c = c || webkitSpeechRecognition) && (r = new c, s = !1, f.on("click", function () {
            const t = $(this);
            !(r.onspeechstart = function () {
                s = !0
            }) === s && r.start(), r.onerror = function (e) {
                s = !1
            }, r.onresult = function (e) {
                t.closest(".form-send-message").find(".message-input").val(e.results[0][0].transcript)
            }, r.onspeechend = function (e) {
                s = !1, r.stop()
            }
        }))
    }
});